\hypertarget{classaa_mqtt}{}\doxysection{aa\+Mqtt Class Reference}
\label{classaa_mqtt}\index{aaMqtt@{aaMqtt}}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classaa_mqtt_a8fe0df533de2e25f1dfb2f0c8e626f7d}{aa\+Mqtt}} ()
\item 
\mbox{\hyperlink{classaa_mqtt_a87e8a4db1a43fbd5d71b77a56a15b7e0}{$\sim$aa\+Mqtt}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classaa_mqtt_a7ce99a71ff5d6575dda7b1e60224850c}{connect}} (IPAddress address, const char $\ast$unique\+Name)
\begin{DoxyCompactList}\small\item\em Connect to MQTT broker. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{classaa_mqtt_adac5c0bf0c8b6ab2ba6ee6b6c5c2ad7c}{on\+Mqtt\+Connect}} (bool session\+Present)
\begin{DoxyCompactList}\small\item\em Event handler for connecting to the broker. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{classaa_mqtt_a6abfaec4d1b1fbeecb547433e98fa9fc}{on\+Mqtt\+Disconnect}} (Async\+Mqtt\+Client\+Disconnect\+Reason reason)
\begin{DoxyCompactList}\small\item\em Event handler for disconnecting from the broker. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{classaa_mqtt_a90c3bfc78093d9d05ffad2a86f06ea68}{on\+Mqtt\+Subscribe}} (uint16\+\_\+t packet\+Id, uint8\+\_\+t qos)
\begin{DoxyCompactList}\small\item\em Event handler for subscribing to a topic on the broker. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{classaa_mqtt_a1be714946ce7d4ca63f4336778ada139}{on\+Mqtt\+Unsubscribe}} (uint16\+\_\+t packet\+Id)
\begin{DoxyCompactList}\small\item\em Event handler for subscribing to a topic on the broker. \end{DoxyCompactList}\item 
static bool \mbox{\hyperlink{classaa_mqtt_a734c75270b275982cc4bdc79da9faafb}{publish\+MQTT}} (const char $\ast$topic, const char $\ast$msg)
\begin{DoxyCompactList}\small\item\em Publishes a message to the MQTT server. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{classaa_mqtt_ab99783465de2e21a13eeadbb5e39b7b8}{publish\+Event}} (int evt\+Id, int evt\+Sev, String evt\+Msg)
\begin{DoxyCompactList}\small\item\em Publishes an event. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{classaa_mqtt_ada4234e578ec002c58e86db16b9162d8}{on\+Mqtt\+Message}} (char $\ast$topic, char $\ast$payload, \mbox{\hyperlink{struct_async_mqtt_client_message_properties}{Async\+Mqtt\+Client\+Message\+Properties}} properties, size\+\_\+t len, size\+\_\+t index, size\+\_\+t total)
\begin{DoxyCompactList}\small\item\em Event handler for recieving a message from a subscribed topic. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{classaa_mqtt_a235eb322300f2c9616754ba202962ad0}{on\+Mqtt\+Publish}} (uint16\+\_\+t packet\+Id)
\begin{DoxyCompactList}\small\item\em Event handler for the ACK from a published message. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classaa_mqtt_a8fe0df533de2e25f1dfb2f0c8e626f7d}\label{classaa_mqtt_a8fe0df533de2e25f1dfb2f0c8e626f7d}} 
\index{aaMqtt@{aaMqtt}!aaMqtt@{aaMqtt}}
\index{aaMqtt@{aaMqtt}!aaMqtt@{aaMqtt}}
\doxysubsubsection{\texorpdfstring{aaMqtt()}{aaMqtt()}}
{\footnotesize\ttfamily aa\+Mqtt\+::aa\+Mqtt (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hypertarget{classaa_mqtt_autotoc_md98}{}\doxysubsection{@class Write variables to flash memory.}\label{classaa_mqtt_autotoc_md98}
\mbox{\Hypertarget{classaa_mqtt_a87e8a4db1a43fbd5d71b77a56a15b7e0}\label{classaa_mqtt_a87e8a4db1a43fbd5d71b77a56a15b7e0}} 
\index{aaMqtt@{aaMqtt}!````~aaMqtt@{$\sim$aaMqtt}}
\index{````~aaMqtt@{$\sim$aaMqtt}!aaMqtt@{aaMqtt}}
\doxysubsubsection{\texorpdfstring{$\sim$aaMqtt()}{~aaMqtt()}}
{\footnotesize\ttfamily aa\+Mqtt\+::$\sim$aa\+Mqtt (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hypertarget{classaa_mqtt_autotoc_md99}{}\doxysubsection{@brief This is the destructor for this class.}\label{classaa_mqtt_autotoc_md99}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classaa_mqtt_a7ce99a71ff5d6575dda7b1e60224850c}\label{classaa_mqtt_a7ce99a71ff5d6575dda7b1e60224850c}} 
\index{aaMqtt@{aaMqtt}!connect@{connect}}
\index{connect@{connect}!aaMqtt@{aaMqtt}}
\doxysubsubsection{\texorpdfstring{connect()}{connect()}}
{\footnotesize\ttfamily void aa\+Mqtt\+::connect (\begin{DoxyParamCaption}\item[{IPAddress}]{address,  }\item[{const char $\ast$}]{u\+Name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Connect to MQTT broker. 


\begin{DoxyParams}{Parameters}
{\em IPAddress} & IP address of the MQTT broker. \\
\hline
\end{DoxyParams}
\hypertarget{classaa_mqtt_autotoc_md100}{}\doxysubsection{@param char$\ast$ Unique name used to prefix all topic trees.}\label{classaa_mqtt_autotoc_md100}
\mbox{\Hypertarget{classaa_mqtt_adac5c0bf0c8b6ab2ba6ee6b6c5c2ad7c}\label{classaa_mqtt_adac5c0bf0c8b6ab2ba6ee6b6c5c2ad7c}} 
\index{aaMqtt@{aaMqtt}!onMqttConnect@{onMqttConnect}}
\index{onMqttConnect@{onMqttConnect}!aaMqtt@{aaMqtt}}
\doxysubsubsection{\texorpdfstring{onMqttConnect()}{onMqttConnect()}}
{\footnotesize\ttfamily void aa\+Mqtt\+::on\+Mqtt\+Connect (\begin{DoxyParamCaption}\item[{bool}]{session\+Present }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Event handler for connecting to the broker. 

\hypertarget{classaa_mqtt_autotoc_md101}{}\doxysubsection{@param bool  Check to see if there are messages queued already.}\label{classaa_mqtt_autotoc_md101}
\mbox{\Hypertarget{classaa_mqtt_a6abfaec4d1b1fbeecb547433e98fa9fc}\label{classaa_mqtt_a6abfaec4d1b1fbeecb547433e98fa9fc}} 
\index{aaMqtt@{aaMqtt}!onMqttDisconnect@{onMqttDisconnect}}
\index{onMqttDisconnect@{onMqttDisconnect}!aaMqtt@{aaMqtt}}
\doxysubsubsection{\texorpdfstring{onMqttDisconnect()}{onMqttDisconnect()}}
{\footnotesize\ttfamily void aa\+Mqtt\+::on\+Mqtt\+Disconnect (\begin{DoxyParamCaption}\item[{Async\+Mqtt\+Client\+Disconnect\+Reason}]{reason }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Event handler for disconnecting from the broker. 

\hypertarget{classaa_mqtt_autotoc_md102}{}\doxysubsection{@param Async\+Mqtt\+Client\+Disconnect\+Reason Reason code.}\label{classaa_mqtt_autotoc_md102}
\mbox{\Hypertarget{classaa_mqtt_ada4234e578ec002c58e86db16b9162d8}\label{classaa_mqtt_ada4234e578ec002c58e86db16b9162d8}} 
\index{aaMqtt@{aaMqtt}!onMqttMessage@{onMqttMessage}}
\index{onMqttMessage@{onMqttMessage}!aaMqtt@{aaMqtt}}
\doxysubsubsection{\texorpdfstring{onMqttMessage()}{onMqttMessage()}}
{\footnotesize\ttfamily void aa\+Mqtt\+::on\+Mqtt\+Message (\begin{DoxyParamCaption}\item[{char $\ast$}]{topic,  }\item[{char $\ast$}]{payload,  }\item[{\mbox{\hyperlink{struct_async_mqtt_client_message_properties}{Async\+Mqtt\+Client\+Message\+Properties}}}]{properties,  }\item[{size\+\_\+t}]{len,  }\item[{size\+\_\+t}]{index,  }\item[{size\+\_\+t}]{total }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Event handler for recieving a message from a subscribed topic. 


\begin{DoxyParams}{Parameters}
{\em char$\ast$} & Topic message pertains to. ~\newline
 \\
\hline
{\em char$\ast$} & Message payload. \\
\hline
{\em \mbox{\hyperlink{struct_async_mqtt_client_message_properties}{Async\+Mqtt\+Client\+Message\+Properties}}} & Message properties. \\
\hline
{\em size\+\_\+t} & Length of message payload. \\
\hline
{\em size\+\_\+t} & Message index. \\
\hline
\end{DoxyParams}
\hypertarget{classaa_mqtt_autotoc_md110}{}\doxysubsection{@param size\+\_\+t Total length of message.}\label{classaa_mqtt_autotoc_md110}
\mbox{\Hypertarget{classaa_mqtt_a235eb322300f2c9616754ba202962ad0}\label{classaa_mqtt_a235eb322300f2c9616754ba202962ad0}} 
\index{aaMqtt@{aaMqtt}!onMqttPublish@{onMqttPublish}}
\index{onMqttPublish@{onMqttPublish}!aaMqtt@{aaMqtt}}
\doxysubsubsection{\texorpdfstring{onMqttPublish()}{onMqttPublish()}}
{\footnotesize\ttfamily void aa\+Mqtt\+::on\+Mqtt\+Publish (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{packet\+Id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Event handler for the ACK from a published message. 

\hypertarget{classaa_mqtt_autotoc_md111}{}\doxysubsection{@param uint16\+\_\+t Packet Id of message that was published.}\label{classaa_mqtt_autotoc_md111}
\mbox{\Hypertarget{classaa_mqtt_a90c3bfc78093d9d05ffad2a86f06ea68}\label{classaa_mqtt_a90c3bfc78093d9d05ffad2a86f06ea68}} 
\index{aaMqtt@{aaMqtt}!onMqttSubscribe@{onMqttSubscribe}}
\index{onMqttSubscribe@{onMqttSubscribe}!aaMqtt@{aaMqtt}}
\doxysubsubsection{\texorpdfstring{onMqttSubscribe()}{onMqttSubscribe()}}
{\footnotesize\ttfamily void aa\+Mqtt\+::on\+Mqtt\+Subscribe (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{packet\+Id,  }\item[{uint8\+\_\+t}]{qos }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Event handler for subscribing to a topic on the broker. 


\begin{DoxyParams}{Parameters}
{\em uint16\+\_\+t} & Pack\+ID that matches the subscription request. \\
\hline
{\em uint8\+\_\+t} & SUBACK return code\\
\hline
\end{DoxyParams}
\hypertarget{classaa_mqtt_autotoc_md103}{}\doxysubsection{Suback Message}\label{classaa_mqtt_autotoc_md103}
To confirm each subscription, the broker sends a SUBACK acknowledgement message to the client. This message contains the packet identifier of the original Subscribe message (to clearly identify the message) and a list of return codes.\hypertarget{classaa_mqtt_autotoc_md104}{}\doxysubsubsection{Packet Identifier}\label{classaa_mqtt_autotoc_md104}
The packet identifier is a unique identifier used to identify a message. It is the same as in the SUBSCRIBE message.\hypertarget{classaa_mqtt_autotoc_md105}{}\doxysubsubsection{Return Code}\label{classaa_mqtt_autotoc_md105}
The broker sends one return code for each topic/\+Qo\+S-\/pair that it receives in the SUBSCRIBE message. For example, if the SUBSCRIBE message has five subscriptions, the SUBACK message contains five return codes. The return code acknowledges each topic and shows the QoS level that is granted by the broker. If the broker refuses a subscription, the SUBACK message conains a failure return code for that specific topic. For example, if the client has insufficient permission to subscribe to the topic or the topic is malformed.\hypertarget{classaa_mqtt_autotoc_md106}{}\doxysubsection{Table of SUBACK return codes}\label{classaa_mqtt_autotoc_md106}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Return Code   }&\cellcolor{\tableheadbgcolor}\textbf{ Return Code Response    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Return Code   }&\cellcolor{\tableheadbgcolor}\textbf{ Return Code Response    }\\\cline{1-2}
\endhead
\PBS\centering 0   &Success -\/ Maximum QoS 0    \\\cline{1-2}
\PBS\centering 1   &Success -\/ Maximum QoS 1    \\\cline{1-2}
\PBS\centering 2   &Success -\/ Maximum QoS 2    \\\cline{1-2}
\PBS\centering 128   &Failure   \\\cline{1-2}
\end{longtabu}
=========================================================================== \mbox{\Hypertarget{classaa_mqtt_a1be714946ce7d4ca63f4336778ada139}\label{classaa_mqtt_a1be714946ce7d4ca63f4336778ada139}} 
\index{aaMqtt@{aaMqtt}!onMqttUnsubscribe@{onMqttUnsubscribe}}
\index{onMqttUnsubscribe@{onMqttUnsubscribe}!aaMqtt@{aaMqtt}}
\doxysubsubsection{\texorpdfstring{onMqttUnsubscribe()}{onMqttUnsubscribe()}}
{\footnotesize\ttfamily void aa\+Mqtt\+::on\+Mqtt\+Unsubscribe (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{packet\+Id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Event handler for subscribing to a topic on the broker. 

\hypertarget{classaa_mqtt_autotoc_md107}{}\doxysubsection{@param uint16\+\_\+t Pack\+ID that matches the unsubscribe request.}\label{classaa_mqtt_autotoc_md107}
\mbox{\Hypertarget{classaa_mqtt_ab99783465de2e21a13eeadbb5e39b7b8}\label{classaa_mqtt_ab99783465de2e21a13eeadbb5e39b7b8}} 
\index{aaMqtt@{aaMqtt}!publishEvent@{publishEvent}}
\index{publishEvent@{publishEvent}!aaMqtt@{aaMqtt}}
\doxysubsubsection{\texorpdfstring{publishEvent()}{publishEvent()}}
{\footnotesize\ttfamily void aa\+Mqtt\+::publish\+Event (\begin{DoxyParamCaption}\item[{int}]{evt\+Id,  }\item[{int}]{evt\+Sev,  }\item[{String}]{evt\+Msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Publishes an event. 


\begin{DoxyParams}{Parameters}
{\em int} & Event ID. \\
\hline
{\em int} & Event severity. \\
\hline
\end{DoxyParams}
\hypertarget{classaa_mqtt_autotoc_md109}{}\doxysubsection{@param String Event message.}\label{classaa_mqtt_autotoc_md109}
\mbox{\Hypertarget{classaa_mqtt_a734c75270b275982cc4bdc79da9faafb}\label{classaa_mqtt_a734c75270b275982cc4bdc79da9faafb}} 
\index{aaMqtt@{aaMqtt}!publishMQTT@{publishMQTT}}
\index{publishMQTT@{publishMQTT}!aaMqtt@{aaMqtt}}
\doxysubsubsection{\texorpdfstring{publishMQTT()}{publishMQTT()}}
{\footnotesize\ttfamily bool aa\+Mqtt\+::publish\+MQTT (\begin{DoxyParamCaption}\item[{const char $\ast$}]{topic,  }\item[{const char $\ast$}]{msg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Publishes a message to the MQTT server. 


\begin{DoxyParams}{Parameters}
{\em char$\ast$} & Topic to pubished to. \\
\hline
\end{DoxyParams}
\hypertarget{classaa_mqtt_autotoc_md108}{}\doxysubsection{@param char$\ast$ Message to publish.}\label{classaa_mqtt_autotoc_md108}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/aa\+Mqtt.\+h\item 
src/aa\+Mqtt.\+cpp\end{DoxyCompactItemize}
